C51 COMPILER V9.54   1                                                                     12/28/2024 15:21:18 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE 1
OBJECT MODULE PLACED IN .\Objects\1.obj
COMPILER INVOKED BY: F:\StudyApp(F)\Keil\C51\BIN\C51.EXE 1.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\1.lst) TABS(2) OBJECT(.\Objects\1.obj)

line level    source

   1          /***************************************************************************
   2           * ??:???????
   3           * ??:?? DS18B20 ????
   4           ****************************************************************************/
   5          
   6          #include <reg52.h>
   7          #include "ds18b20.h"
*** WARNING C318 IN LINE 7 OF 1.c: can't open file 'ds18b20.h'
   8          
   9          // ?? 74HC138 ????
  10          sbit ADDR0 = P1^0; // 74HC138:A0
  11          sbit ADDR1 = P1^1; // 74HC138:A1
  12          sbit ADDR2 = P1^2; // 74HC138:A2
  13          sbit ADDR3 = P1^3; // 74HC138:E3 ?????
  14          sbit EN = P1^4;    // 74HC138:E1, E2 ?????
  15          
  16          // ????? code ??????? Flash ?,????? RAM
  17          unsigned char code display_code[] = {
  18              /* 0    1    2    3    4    5    6    7    8    9    A    b    c    d    E    F */
  19              0xc0, 0xf9, 0xa4, 0xb0, 0x99, 0x92, 0x82, 0xf8, 0x80, 0x90, 0x88, 0x83, 0xa7, 0xa1, 0x86, 0x8e
  20          };
  21          
  22          void delayms(unsigned int t) {
  23   1          unsigned char i; // ????????
  24   1          unsigned int j;
  25   1          for (i = t; i > 0; i--)
  26   1              for (j = 110; j > 0; j--);
  27   1      }
  28          
  29          void main() {
  30   1          unsigned char bai, shi, ge;
  31   1          unsigned char i = 0; // ????????
  32   1          unsigned int temp;   // ????
  33   1      
  34   1          // ??? 74HC138
  35   1          ADDR3 = 1; // E3 ?????
  36   1          EN = 0;    // E1, E2 ?????
  37   1      
  38   1          P0 = 0xFF; // ????????
  39   1      
  40   1          while (1) {
  41   2              temp = Get_Tmp(); // ????
*** WARNING C206 IN LINE 41 OF 1.c: 'Get_Tmp': missing function-prototype
  42   2              
  43   2              // ?????????????
  44   2              bai = temp / 100;       // ??
  45   2              shi = (temp % 100) / 10; // ??
  46   2              ge = temp % 10;         // ??
  47   2      
  48   2              // ?????
  49   2              switch (i) {
  50   3                  case 0: // ??????
  51   3                      ADDR0 = 0; ADDR1 = 0; ADDR2 = 0; // 74HC138: Y0 = 0,Y1-Y7 = 1
  52   3                      i++;
C51 COMPILER V9.54   1                                                                     12/28/2024 15:21:18 PAGE 2   

  53   3                      P0 = display_code[ge];
  54   3                      break;
  55   3                  case 1: // ??????
  56   3                      ADDR0 = 1; ADDR1 = 0; ADDR2 = 0; // 74HC138: Y1 = 0,Y0,Y2-Y7 = 1
  57   3                      i++;
  58   3                      P0 = display_code[shi];
  59   3                      break;
  60   3                  case 2: // ??????
  61   3                      ADDR0 = 0; ADDR1 = 1; ADDR2 = 0; // 74HC138: Y2 = 0,Y0,Y1,Y3-Y7 = 1
  62   3                      i = 0;
  63   3                      P0 = display_code[bai];
  64   3                      break;
  65   3              }
  66   2      
  67   2              delayms(1);
  68   2              P0 = 0xFF; // ???????,??,??????
  69   2          }
  70   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    152    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
